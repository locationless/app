{"version":3,"sources":["actions/types.js","config.js","actions/index.js","helpers/dateUtils.js","components/NewTrip.react.js","components/FriendChip.react.js","components/DateRange.react.js","components/TripCard.react.js","components/Spinner.react.js","pages/TripDashboard.react.js","components/TripPanel.react.js","pages/TripDetail.react.js","components/FriendStatusButton.react.js","components/FriendSearch.react.js","pages/FriendsList.react.js","components/LocationMap.react.js","pages/UserProfile.react.js","components/PrivateRoute.react.js","components/Login.react.js","components/Header.react.js","App.js","serviceWorker.js","reducers/util.js","reducers/index.js","middleware/api.js","actions/api.js","store/index.js","index.js"],"names":["FETCH_TRIPS","FETCH_TRIP","SET_TRIPS","CREATE_TRIP","UPDATE_TRIP","DELETE_TRIP","REMOVE_TRIP","FETCH_CITIES","SET_CITIES","FETCH_FRIENDS","CREATE_FRIEND_REQ","ACCEPT_FRIEND_REQ","FETCH_USER","SET_USERS","API","apiUrl","process","fetchFriends","apiAction","url","concat","onSuccess","setUsers","onFailure","console","log","label","acceptFriendRequest","data","id","method","Object","objectSpread","is_friend","is_pending_friend","nextAction","fetchTrips","requestFriendship","have_requested_friend","type","payload","setCities","setTrips","_ref","_ref$url","_ref$method","_ref$data","_ref$accessToken","accessToken","_ref$onSuccess","_ref$onFailure","_ref$nextAction","_ref$label","_ref$headersOverride","headersOverride","determineNextFreeDate","trips","n","nextFreeDate","reduce","lastChecked","nextTrip","isBefore","addDays","start_date","Date","end_date","now","MenuList","props","rows","children","react_default","a","createElement","dist_es","style","width","flexGrow","height","rowHeight","rowCount","length","rowRenderer","key","index","isScrolling","isVisible","convertToSelectOpts","i","map","index_es","code","country_code","svg","name","value","NewTrip","_ref2","cities","disabledDates","onCreateTrip","_useState","useState","_useState2","slicedToArray","dates","setDates","_useState3","_useState4","city","setCity","useEffect","t","join","citiesList","keys","all","cId","sort","b","population","className","react_select_esm","styles","container","components","_MenuList","assign","window","innerWidth","placeholder","isSearchAble","isLoading","isFetching","onChange","options","build_default","mode","disable","dateFormat","onClick","e","preventDefault","parseInt","split","format","disabled","FriendChip","first_name","last_name","username","photo_url","photoOnly","photoSrc","tooltipText","alt","src","Link","to","MONTHS","DateRange","getDate","getMonth","fontSize","textAlign","margin","marginTop","differenceInDays","ExtraFriends","_ref3","allFriends","numDisplayed","withRouter","onUpdate","onDelete","objectWithoutProperties","matches","editMode","setEditMode","promptDel","setPromptDel","_useState5","_useState6","disabledDatesMinusThoseForThisTrip","filter","from","subDays","react","DateRange_react","slice","m","FriendChip_react","TripCard_react_ExtraFriends","Spinner","TripsList","updateTrip","deleteTrip","Spinner_react","trip","TripCard_react","connect","users","fetchCities","createTrip","removeTrip","hasFetched","populatedTrips","ids","tId","match","_match$split","_match$split2","uId","start","end","determineAlreadySelectedTripDates","NewTrip_react","isLoadingCities","OverlappingFriends","TripPanel_react_OverlapGraph","OverlapGraph","TripPanel_react_OverlapBar","OverlapBar","_ref4","totalLength","daysFromStart","daysOverlap","getOverlappingDaysInRanges","Math","floor","max","TripPanel","isActive","TripPanel_react_OverlappingFriends","MainPanel","TripPanel_react","fetchTrip","tripId","params","TripDetail_react_MainPanel","FriendshipStatus","user","onRequest","onAccept","is_you","onRequestFriend","onAcceptFriend","results","setResults","phrase","setPhrase","source","axios","CancelToken","get","cancelToken","token","withCredentials","then","catch","err","message","cancel","target","r","friendObj","FriendStatusButton_react","activeUser","friendList","accepted","f","hasFriends","pending","hasPendingFriends","FriendSearch_react","FriendsList_react_MainPanel","locationIcon","divIcon","html","iconSize","iconAnchor","popupAnchor","LocationMap","userId","locations","setLocations","res","status","fLocations","Map","center","zoom","TileLayer","attribution","Polyline","positions","latitude","longitude","color","Marker","position","icon","Popup","toUpperCase","LocationMap_react","fetchUser","UserProfile_react_MainPanel","withCookies","Component","component","rest","Route","render","cookies","Redirect","pathname","Login","state","errMsg","handleResponse","stringify","_this","onLogin","response","errors","setState","react_telegram_login_build_default","dataOnauth","this","botName","onLogout","paddingRight","App","remove","post","history","push","_this$props","location","PrivateRoute_react","exact","path","TripDashboard","TripDetail","FriendsList","UserProfile","msg","href","padding","_this2","error","renderError","Header_react","bind","Login_react","renderPrivateRoutes","Boolean","hostname","SERVER_ERR_MESSAGE","NOT_FOUND_ERR_MESSAGE","schema","Entity","idAttribute","v","schemas","processStrategy","parent","initialState","ENTITIES","insertEntities","entity","Array","isArray","normData","normalize","newState","forEach","indexOf","toConsumableArray","Set","entities","existingIds","result","TRIPS_LABELS","CITIES_LABELS","USERS_LABELS","apiMiddleware","dispatch","next","action","_action$payload","headers","dataOrParams","includes","defaults","baseURL","REACT_APP_BASE_URL","common","apiStart","request","defineProperty","apiError","finally","apiEnd","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","arguments","undefined","reduceError","applyMiddleware","thunkMiddleware","ReactDOM","es","BrowserRouter","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.2a9d7e48.chunk.js","sourcesContent":["export const FETCH_TRIPS = 'FETCH_TRIPS';\nexport const FETCH_TRIP = 'FETCH_TRIP';\nexport const SET_TRIPS = 'SET_TRIPS';\nexport const CREATE_TRIP = 'CREATE_TRIP';\nexport const UPDATE_TRIP = 'UPDATE_TRIP';\nexport const DELETE_TRIP = 'DELETE_TRIP';\nexport const REMOVE_TRIP = 'REMOVE_TRIP';\n\nexport const FETCH_CITIES = 'FETCH_CITIES';\nexport const SET_CITIES = 'SET_CITIES';\n\nexport const FETCH_FRIENDS = 'FETCH_FRIENDS';\nexport const SET_FRIENDS = 'SET_FRIENDS';\nexport const CREATE_FRIEND_REQ = 'CREATE_FRIEND_REQ';\nexport const ACCEPT_FRIEND_REQ = 'ACCEPT_FRIEND_REQ';\n\nexport const FETCH_USER = 'FETCH_USER'\nexport const SET_USERS = 'SET_USERS';\n\nexport const API = 'API';\nexport const API_START = 'API_START';\nexport const API_END = 'API_END';\nexport const ACCESS_DENIED = 'ACCESS_DENIED';\nexport const API_ERROR = 'API_ERROR';\n\nexport const ENTITY_CITIES = 'ENTITY::CITIES';\nexport const ENTITY_TRIPS = 'ENTITY::TRIPS';\n","//\n// Expose friendly names for .env file variables\n//\nexport const apiUrl = process.env.REACT_APP_API_URL;\nexport const botName = process.env.REACT_APP_TELEGRAM_BOT;\n","import {\n  API,\n\n  FETCH_TRIPS,\n  FETCH_TRIP,\n  SET_TRIPS,\n  CREATE_TRIP,\n  UPDATE_TRIP,\n  DELETE_TRIP,\n  REMOVE_TRIP,\n\n  FETCH_FRIENDS,\n  CREATE_FRIEND_REQ,\n  ACCEPT_FRIEND_REQ,\n\n  FETCH_USER,\n  SET_USERS,\n\n  FETCH_CITIES,\n  SET_CITIES,\n} from './types';\n\nimport { apiUrl } from '../config';\n\nexport function fetchFriends() {\n  return apiAction({\n    url: `${apiUrl}/u/friends/`,\n    onSuccess: setUsers,\n    onFailure: () => console.log('Error occured loading friends'),\n    label: FETCH_FRIENDS,\n  });\n}\n\nexport function acceptFriendRequest(data) {\n  return apiAction({\n    url: `${apiUrl}/u/${data.id}/friends/`,\n    method: 'PUT',\n    // HACK: Need the API to return the updated user object\n    onSuccess: () => setUsers({\n      data: {\n        ...data,\n        is_friend: true,\n        is_pending_friend: false\n      }\n    }),\n    nextAction: fetchTrips,\n    onFailure: () => console.log('Error occured accepting friendship request'),\n    data: data,\n    label: ACCEPT_FRIEND_REQ,\n  });\n}\n\nexport function requestFriendship(data) {\n  return apiAction({\n    url: `${apiUrl}/u/${data.id}/friends/`,\n    method: 'POST',\n    // HACK: Need the API to return the updated user object\n    onSuccess: () => setUsers({\n      data: {\n        ...data,\n        have_requested_friend: true\n      }\n    }),\n    onFailure: () => console.log('Error occured requesting friendship'),\n    data: data,\n    label: CREATE_FRIEND_REQ,\n  });\n}\n\nexport function fetchUser(id) {\n  return apiAction({\n    url: `${apiUrl}/u/${id}/`,\n    onSuccess: setUsers,\n    onFailure: () => console.log('Error occured loading user', id),\n    label: FETCH_USER,\n  });\n}\n\nexport function setUsers(data) {\n  return {\n    type: SET_USERS,\n    payload: data,\n  };\n}\n\nexport function fetchCities() {\n  return apiAction({\n    url: `${apiUrl}/cities/`,\n    onSuccess: setCities,\n    onFailure: () => console.log('Error occured loading cities'),\n    label: FETCH_CITIES,\n  });\n}\n\nfunction setCities(data) {\n  return {\n    type: SET_CITIES,\n    payload: data,\n  };\n}\n\nexport function fetchTrip(id) {\n  return apiAction({\n    url: `${apiUrl}/trips/${id}`,\n    onSuccess: setTrips,\n    onFailure: () => console.log('Error occured loading trips'),\n    label: FETCH_TRIP,\n  });\n}\n\nexport function fetchTrips() {\n  return apiAction({\n    url: `${apiUrl}/trips/`,\n    onSuccess: setTrips,\n    onFailure: () => console.log('Error occured loading trips'),\n    label: FETCH_TRIPS,\n  });\n}\n\nfunction setTrips(data) {\n  return {\n    type: SET_TRIPS,\n    payload: data,\n  };\n}\n\nfunction removeTrip(data) {\n  return {\n    type: REMOVE_TRIP,\n    payload: data,\n  };\n}\n\nexport function createTrip(data) {\n  return apiAction({\n    url: `${apiUrl}/trips/`,\n    method: 'POST',\n    onSuccess: setTrips,\n    onFailure: () => console.log('Error occured creating trip'),\n    data: data,\n    label: CREATE_TRIP,\n  });\n}\n\nexport function updateTrip(data) {\n  return apiAction({\n    url: `${apiUrl}/trips/${data.id}`,\n    method: 'PUT',\n    onSuccess: setTrips,\n    onFailure: () => console.log('Error occured updating trip'),\n    data: data,\n    label: UPDATE_TRIP,\n  });\n}\n\nexport function deleteTrip(data) {\n  return apiAction({\n    url: `${apiUrl}/trips/${data.id}`,\n    method: 'DELETE',\n    onFailure: () => console.log('Error occured deleting trip'),\n    onSuccess: () => removeTrip(data),\n    label: DELETE_TRIP,\n  });\n}\n\nfunction apiAction({\n  url = '',\n  method = 'GET',\n  data = null,\n  accessToken = null,\n  onSuccess = () => {},\n  onFailure = () => {},\n  nextAction = () => {},\n  label = '',\n  headersOverride = null\n}) {\n  return {\n    type: API,\n    payload: {\n      url,\n      method,\n      data,\n      accessToken,\n      onSuccess,\n      onFailure,\n      label,\n      headersOverride,\n      nextAction\n    }\n  };\n}\n","import isBefore from 'date-fns/is_before';\nimport addDays from 'date-fns/add_days'\nimport subDays from 'date-fns/sub_days'\n\n// Disable any dates that you already have trips on (allowing 1 day overlap)\nexport function determineAlreadySelectedTripDates(trips) {\n  return trips.map(t => ({\n    from: addDays(t.start_date, 1),\n    to: subDays(t.end_date, 1)\n  }));\n}\n\n// Determine the next gap in the dates of n days\nexport function determineNextFreeDate(trips, n) {\n  const nextFreeDate = trips.reduce(\n    (lastChecked, nextTrip) => {\n\n      // Only allow a gap to be auto-selected if there are n days available\n      if (isBefore(addDays(lastChecked, n- 1), nextTrip.start_date)) {\n        return lastChecked;\n      }\n\n      return new Date(nextTrip.end_date);\n    },\n    Date.now()\n  );\n  return [nextFreeDate, addDays(nextFreeDate, n)];\n}\n","import React, { useState, useEffect } from 'react';\nimport { List } from 'react-virtualized';\nimport ReactCountryFlag from 'react-country-flag';\n\nimport { determineNextFreeDate } from '../helpers/dateUtils';\n\nimport format from 'date-fns/format';\n\nimport Select from 'react-select';\nimport Flatpickr from 'react-flatpickr'\n\nimport 'flatpickr/dist/themes/light.css'\n\n//\n// Virtualized Select Component\n//\nconst MenuList = props => {\n  const rows = props.children;\n  const rowRenderer = ({ key, index, isScrolling, isVisible, style }) => (\n    <div key={key} style={style}>{rows[index]}</div>\n  );\n\n  return (\n    <List\n      style={{ width: '100%', flexGrow: true }}\n      width={props.width}\n      height={300}\n      rowHeight={35}\n      rowCount={rows.length || 0}\n      rowRenderer={rowRenderer}\n    />\n  );\n}\n\nconst convertToSelectOpts = i => i.map(i => ({\n  label: <div><ReactCountryFlag code={i.country_code} svg /> {i.name}</div>,\n  value: `${i.name}:::${i.id}`\n}));\n\nfunction NewTrip ({ cities, trips, disabledDates, onCreateTrip }) {\n  // Default to the next free day and no city selected\n  const [dates, setDates] = useState(determineNextFreeDate(trips, 4));\n  const [city, setCity] = useState(null);\n\n  //\n  // Make sure the default dates stay up to date when a new trip is created\n  //\n  useEffect(\n    () => {\n      setDates(determineNextFreeDate(trips, 4));\n    },\n    [trips.map(t => t.id).join('-')]\n  );\n\n  //\n  // Package up the state as a trip object and pass it back up\n  //\n  const createTrip = (e) => {\n    e.preventDefault();\n    onCreateTrip({\n      city: parseInt(city.value.split(':::')[1], 10),\n      start_date: format(dates[0], 'YYYY-MM-DD'),\n      end_date: format(dates[1], 'YYYY-MM-DD'),\n    });\n    setCity(null);\n  };\n\n  // Order cities by population for now\n  const citiesList = Object.keys(cities.all)\n    .map(cId => cities.all[cId]);\n  citiesList.sort((a, b) => b.population - a.population);\n\n  return <form className='uk-tile uk-padding-small uk-flex uk-flex-around uk-flex-middle'>\n    <Select\n      styles={{\n        container: () => ({\n          width: 250\n        })\n      }}\n      components={{\n        MenuList: (props)=> <MenuList {...props} width={window.innerWidth} />\n      }}\n      placeholder='New Trip Location'\n      className='-select'\n      isSearchAble\n      isLoading={cities.isFetching}\n      value={city}\n      onChange={setCity}\n      options={convertToSelectOpts(citiesList)}\n    />\n      <Flatpickr\n        className='uk-input uk-width-1-3'\n        options={{\n          mode: 'range',\n          disable: disabledDates,\n          dateFormat: 'Y-m-d',\n        }}\n        value={dates}\n        onChange={setDates}\n      />\n    <button\n      className='uk-button uk-button-secondary'\n      onClick={createTrip}\n      disabled={city === null}\n    >\n      <span className='icono-plus'/>\n    </button>\n  </form>;\n}\n\nexport default NewTrip;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst FriendChip = ({ id, first_name, last_name, username, photo_url, photoOnly }) => {\n  const photoSrc = photo_url || '/blank-profile-picture.png';\n  const tooltipText = username || `${first_name} ${last_name}`;\n\n  if (photoOnly) {\n    return <div className='uk-border-circle friend-chip'>\n      <img className='uk-border-circle avatar-preview' alt='avatar' src={photoSrc} />\n    </div>;\n  }\n\n  return <Link className='uk-border-circle friend-chip' to={`/users/${id}`}>\n    <img className='uk-border-circle avatar-preview' alt='avatar' src={photoSrc} />\n    <div className='uk-badge tooltip'>{tooltipText}</div>\n  </Link>;\n};\n\nexport default FriendChip;\n","import React from 'react';\n\nimport getMonth from 'date-fns/get_month'\nimport getDate from 'date-fns/get_date'\nimport differenceInDays from 'date-fns/difference_in_days'\n\nconst MONTHS = [\n  'JAN',\n  'FEB',\n  'MAR',\n  'APR',\n  'MAY',\n  'JUN',\n  'JUL',\n  'AUG',\n  'SEP',\n  'OCT',\n  'NOV',\n  'DEC'\n];\n\nconst DateRange = ({ start_date, end_date }) =>\n  <div className='uk-flex date-range'>\n    <div>\n      <b>{getDate(start_date)} <br/> {MONTHS[getMonth(start_date)]}</b>\n    </div>\n    <div>\n      <b>{getDate(end_date)} <br/> {MONTHS[getMonth(end_date)]}</b>\n    </div>\n    <p\n      style={{\n        width: 92,\n        height: 42,\n        fontSize: 16,\n        textAlign: 'center',\n        margin: 2,\n        marginTop: 10\n     }}\n    >\n      {differenceInDays(end_date, start_date)} Day Trip\n    </p>\n  </div>;\n\nexport default DateRange;\n","import React, { Fragment, useState } from 'react';\nimport { withRouter, Link } from 'react-router-dom';\n\nimport ReactCountryFlag from 'react-country-flag';\nimport Flatpickr from 'react-flatpickr';\n\nimport format from 'date-fns/format';\nimport addDays from 'date-fns/add_days';\nimport subDays from 'date-fns/sub_days';\n\nimport FriendChip from './FriendChip.react';\nimport DateRange from './DateRange.react';\n\nfunction TripCard({ onUpdate, onDelete, disabledDates, ...props}) {\n\n  const { id, city, start_date, end_date, matches } = props;\n\n  const [editMode, setEditMode] = useState(false);\n  const [promptDel, setPromptDel] = useState(false);\n  const [dates, setDates] = useState([new Date(start_date), new Date(end_date)]);\n\n  const updateTrip = () => {\n    setEditMode(false);\n    return onUpdate({\n      id,\n      city: city.id,\n      start_date: format(dates[0], 'YYYY-MM-DD'),\n      end_date: format(dates[1], 'YYYY-MM-DD'),\n    });\n  };\n\n  const disabledDatesMinusThoseForThisTrip = disabledDates.filter(({ from, to }) =>\n    !(\n      format(addDays(start_date, 1), 'YYYY-MM-DD') === format(from, 'YYYY-MM-DD') &&\n      format(subDays(end_date, 1), 'YYYY-MM-DD')   === format(to, 'YYYY-MM-DD')\n     )\n  );\n\n  const deleteTrip = () => onDelete({ id });\n\n  if (promptDel) {\n    return <Fragment>\n      <div className='uk-tile uk-padding-small uk-flex uk-flex-between uk-background-muted'>\n        <div>\n          <h6>\n             <ReactCountryFlag code={city.country_code} svg /> | {city.name}\n          </h6>\n        </div>\n          <p>Confirm you would like to delete this trip</p>\n          <span className='uk-flex'>\n            <hr className='uk-divider-vertical uk-margin-right uk-margin-left' />\n            <span className='uk-flex uk-flex-column'>\n              <span className='icon-sm'>\n                <span className='icono-check' onClick={deleteTrip} />\n              </span>\n              <span className='icon-sm'>\n                <span className='icono-cross' onClick={(e) => setPromptDel(false)} />\n              </span>\n            </span>\n          </span>\n      </div>\n      <hr />\n    </Fragment>;\n  }\n\n  if (editMode) {\n    return <Fragment>\n      <div className='uk-tile uk-padding-small uk-flex uk-flex-between uk-background-muted'>\n        <div>\n          <h6>\n             <ReactCountryFlag code={city.country_code} svg /> | {city.name}\n          </h6>\n        </div>\n          <Flatpickr\n            className='uk-input uk-width-1-3'\n            options={{\n              mode: 'range',\n              disable: disabledDatesMinusThoseForThisTrip,\n            }}\n            value={dates}\n            onChange={setDates}\n          />\n          <span className='uk-flex'>\n            <hr className='uk-divider-vertical uk-margin-right uk-margin-left' />\n            <span className='uk-flex uk-flex-column'>\n              <span className='icon-sm'>\n                <span className='icono-check' onClick={updateTrip} />\n              </span>\n              <span className='icon-sm'>\n                <span className='icono-cross' onClick={(e) => setEditMode(!editMode)} />\n              </span>\n            </span>\n          </span>\n      </div>\n      <hr />\n    </Fragment>;\n  }\n\n  return <Fragment>\n    <div\n      className='uk-tile uk-padding-small uk-flex uk-flex-between uk-link-muted'\n    >\n      <Link to={`/trips/${id}`} >\n        <h6>\n           <ReactCountryFlag code={city.country_code} svg /> | {city.name}\n        </h6>\n        <DateRange start_date={start_date} end_date={end_date} />\n      </Link>\n      <span className='uk-flex'>\n        <span className='uk-flex'>\n          {matches.slice(0, 3).map(m => <FriendChip key={m.id} {...m} />)}\n          <ExtraFriends allFriends={matches} numDisplayed={3} />\n        </span>\n        <span className='uk-flex'>\n            <hr className='uk-divider-vertical uk-margin-right uk-margin-left' />\n          <span className='uk-flex uk-flex-column' >\n            <span className='icon-sm'>\n              <span className='icono-gear' onClick={(e) => {e.preventDefault();setEditMode(!editMode);}} />\n            </span>\n            <span className='icon-sm'>\n              <span className='icono-trash' onClick={(e) => {e.preventDefault();setPromptDel(true);}} />\n            </span>\n          </span>\n        </span>\n      </span>\n    </div>\n    <hr />\n  </Fragment>;\n}\n\nconst ExtraFriends = ({ allFriends, numDisplayed }) => {\n  if (allFriends.length > numDisplayed) {\n    return <div className='uk-border-circle avatar-preview uk-background-muted'>\n      <p className='uk-border-circle uk-dark'>\n        +{allFriends.length - numDisplayed}\n      </p>\n    </div>;\n  }\n  return null;\n};\n\nexport default withRouter(TripCard);\n","import React from 'react';\nimport './Spinner.css';\n\nconst Spinner = () => <div className='spinner-container'>\n    <div className='lds-ripple'><div></div><div></div></div>\n  </div>;\n\nexport default Spinner;\n","//\n// Page with a list of trips for the user\n//\nimport React, { Fragment, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchTrips, fetchCities, createTrip, fetchFriends, updateTrip, deleteTrip } from '../actions';\n\nimport differenceInDays from 'date-fns/difference_in_days';\nimport { determineAlreadySelectedTripDates } from '../helpers/dateUtils';\n\nimport NewTrip from '../components/NewTrip.react';\nimport TripCard from '../components/TripCard.react';\nimport Spinner from '../components/Spinner.react';\n\nfunction TripDashboard(props) {\n  // Get data out of redux\n  const { cities, trips, users } = props;\n\n  // Load API data for page\n  useEffect(\n    () => {\n      if (!cities.isFetching && !cities.hasFetched) {\n        props.fetchCities();\n      }\n      if (!trips.isFetching && !trips.hasFetched) {\n        props.fetchTrips();\n      }\n    },\n    []\n  );\n\n  const populatedTrips = trips.ids.map(tId => {\n    const trip = trips.all[tId];\n    return {\n      ...trip,\n      city: cities.all[trip.city],\n      matches: trip.matches.map(match => {\n        const [uId, start, end] = match.split('::');\n        return {\n          ...users.all[uId],\n          start_date: start,\n          end_date: end\n        };\n      })\n    };\n  });\n\n  // Sort so the soonest trip is first in the list\n  populatedTrips.sort((a, b) => differenceInDays(a.start_date, b.start_date));\n\n  const disabledDates = determineAlreadySelectedTripDates(populatedTrips);\n\n  return (\n    <Fragment>\n\n      <h4>ADD NEW TRIP</h4>\n      <NewTrip\n        cities={cities}\n        trips={populatedTrips}\n        isLoadingCities={cities.isFetching}\n        onCreateTrip={props.createTrip}\n        disabledDates={disabledDates}\n      />\n\n      <TripsList\n        trips={populatedTrips}\n        updateTrip={props.updateTrip}\n        deleteTrip={props.deleteTrip}\n        disabledDates={disabledDates}\n      />\n\n    </Fragment>\n  );\n}\n\nfunction TripsList({ trips, disabledDates, updateTrip, deleteTrip }) {\n  if (trips.isFetching) {\n    return <Spinner />;\n  }\n\n  if (trips.length === 0) {\n    return <p>\n      You have no upcoming trips. Hope you enjoy your rest.\n    </p>;\n  }\n\n  // TODO: Pagination / see historic etc\n\n  return <Fragment>\n    <h4>UPCOMING TRIPS</h4>\n    {trips.map(trip => \n      <TripCard\n        key={trip.id}\n        onUpdate={updateTrip}\n        onDelete={deleteTrip}\n        disabledDates={disabledDates}\n        {...trip}\n      />\n    )}\n  </Fragment>;\n}\n\nconst mapStateToProps = ({ cities, trips, users }) => ({\n  cities,\n  trips,\n  users,\n});\n\nexport default connect(\n  mapStateToProps,\n  {\n    fetchTrips,\n    fetchCities,\n    fetchFriends,\n    createTrip,\n    updateTrip,\n    deleteTrip\n  }\n)(TripDashboard);\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport ReactCountryFlag from 'react-country-flag';\n\nimport FriendChip from './FriendChip.react';\n\nimport differenceInDays from 'date-fns/difference_in_days';\nimport getOverlappingDaysInRanges from 'date-fns/get_overlapping_days_in_ranges';\nimport format from 'date-fns/format';\n\nconst TripPanel = ({ city, start_date, end_date, matches, isActive }) => (\n  <dl className='uk-description-list'>\n    <dt>\n       Location\n    </dt>\n    <dd className='uk-padding-small'>\n      <span className='uk-padding-small'>{city.name}</span>\n      <ReactCountryFlag code={city.country_code} svg />\n    </dd>\n    <dt>Duration</dt>\n    <dd className='uk-padding-small'>\n      <span className='uk-padding'>\n        You will be in {city.name} for {differenceInDays(end_date, start_date)} Days\n      </span>\n      <OverlapBar start_date={start_date} end_date={end_date} to={end_date} from={start_date} />\n    </dd>\n    <OverlappingFriends matches={matches} start_date={start_date} end_date={end_date} />\n  </dl>\n);\n\nconst OverlappingFriends = ({ matches, start_date, end_date }) => {\n\n  if (matches.length === 0) {\n    return <p>None of your friends trips are currently overlapping with this one.\n      Maybe you need to add some people you know to improve your chances?\n    </p>;\n  }\n\n  return <Fragment>\n    <dt>\n      Friends with overlapping dates\n    </dt>\n    <dd>\n      <span className='uk-padding'>\n        {matches.map(m => <OverlapGraph\n          key={m.id}\n          {...m}\n          from={start_date}\n          to={end_date}\n        />)}\n      </span>\n    </dd>\n  </Fragment>\n};\n\nconst OverlapGraph = ({ id, first_name, last_name, username, photo_url, start_date, end_date, from, to }) => (\n  <div className='overlap-graph'>\n    <div className='uk-flex uk-flex-middle'>\n      <FriendChip\n        id={id}\n        username={username}\n        first_name={first_name}\n        last_name={last_name}\n        photo_url={photo_url}\n        photoOnly\n      />\n      <Link to={`/users/${id}`} className='chip-label uk-link-muted'>@{username}</Link>\n    </div>\n    <OverlapBar start_date={start_date} end_date={end_date} to={to} from={from} />\n  </div>\n);\n\nconst OverlapBar = ({ id, start_date, end_date, from, to }) => {\n  const totalLength = differenceInDays(to, from);\n  const daysFromStart = differenceInDays(start_date, from);\n  const daysOverlap = getOverlappingDaysInRanges(from, to, start_date, end_date);\n\n  const STYLES = {\n    width: `${Math.floor((daysOverlap * 80) / totalLength)}%`,\n  };\n  const START_STYLES = {\n    marginLeft: `${Math.max(Math.floor((daysFromStart * 80) / totalLength) - 5, 0)}%`,\n  };\n\n  // TODO: This look gross ATM\n  return null;\n  return <div className='uk-flex uk-flex-around uk-padding-small'>\n    <span className='date-icon' style={START_STYLES}>\n      {format(start_date, 'DD MMM')}\n    </span>\n    <li className='uk-list overlap-bar' style={STYLES}>{daysOverlap} Days</li>\n    <span className='date-icon'>\n      {format(end_date, 'DD MMM')}\n    </span>\n  </div>;\n};\n\nexport default TripPanel;\n","import React, { Fragment, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchTrip } from '../actions';\n\nimport TripPanel from '../components/TripPanel.react';\nimport Spinner from '../components/Spinner.react';\n\nconst TripDetail = ({ match, trips, cities, users, fetchTrip }) => {\n  const tripId = parseInt(match.params.id, 10);\n\n  // Clone the trip\n  let trip = trips.all[tripId];\n  if (trip) {\n    trip = {\n      ...trip,\n      city: cities[trip.city],\n      matches: trip.matches.map(match => {\n        const [uId, start, end] = match.split('::');\n        return {\n          ...users.all[uId],\n          start_date: start,\n          end_date: end\n        };\n      })\n    };\n  }\n\n  useEffect(\n    () => {\n      // Get it from the API if:\n      //   - it is not currently fetching trips\n      //   - we don't have the trip in the store already\n      if (!trips.isFetching && !trip) {\n        fetchTrip(tripId);\n      }\n    },\n    []\n  );\n\n  return <Fragment>\n    <h4>TRIP SUMMARY</h4>\n    <MainPanel isFetching={trips.isFetching} trip={trip} />\n  </Fragment>\n};\n\nconst MainPanel = ({ isFetching, trip }) => {\n  if (isFetching || !trip) {\n    return <Spinner />;\n  }\n  return <TripPanel {...trip} />;\n}\n\nconst mapStateToProps = ({ trips, users, cities }) => ({\n  trips,\n  users,\n  cities: cities.all\n})\n\nexport default connect(\n  mapStateToProps,\n  {\n    fetchTrip\n  }\n)(TripDetail);\n","import React from 'react';\n\nconst FriendshipStatus = ({ user, onRequest, onAccept }) => {\n  if (user && user.is_you) {\n    return <button\n      className='uk-button icon-sm'\n      disabled\n    >\n        <span className='icono-smile'/>\n        You\n    </button>;\n  }\n  if (user && user.is_friend) {\n    return <button\n      className='uk-button icon-sm'\n      disabled\n    >\n        <span className='icono-check'/>\n        Friends\n    </button>;\n  }\n  if (user && user.is_pending_friend) {\n    return <button\n      onClick={onAccept}\n      className='uk-button icon-sm'>\n        Accept\n    </button>;\n  }\n  if (user && user.have_requested_friend) {\n    return <button\n      className='uk-button icon-sm'\n      disabled\n    >\n        <span className='icono-clock'/>\n        Waiting\n    </button>;\n  }\n\n  return <button\n    className='uk-button icon-sm'\n    onClick={onRequest}>\n      <span className='icono-plus'/>\n      Request\n  </button>;\n}\n\nexport default FriendshipStatus;\n\n","import React, { useState, useEffect, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\n\nimport { apiUrl } from '../config';\n\nimport FriendChip from './FriendChip.react';\nimport FriendStatusButton from './FriendStatusButton.react';\n\n// TODO:\n//  - integrate with search API\n//  - present results effectively\n//  - request button\nfunction FriendSearch ({ users, onRequestFriend, onAcceptFriend, fetchFriends }) {\n  const [results, setResults] = useState([]);\n  const [phrase, setPhrase] = useState('');\n\n  // Each time the user types, we send a search query.\n  //\n  // TODO: \n  // - Should this be debounced?\n  // - Encoding query strings\n  //\n  useEffect(\n    () => {\n      const CancelToken = axios.CancelToken;\n      const source = CancelToken.source();\n\n      if (phrase) {\n        axios.get(`${apiUrl}/u/search/?q=${phrase}`, {\n          cancelToken: source.token,\n          withCredentials: true,\n        })\n          .then(({ data }) => setResults(data.data))\n          .catch(err => {\n\n            // All good.\n            if (err && err.message === 'unmount') {\n              return;\n            }\n\n            // TODO: Handle this!\n            console.log(err);\n          });\n      } else {\n        setResults([]);\n      }\n\n      // Cancel the request if the component is unmounted\n      return () => source.cancel('unmount');\n    },\n    [phrase]\n  );\n\n  return <div className='uk-padding-small'>\n    <input\n      className='uk-input'\n      placeholder='Search for Telegram Username / Full Name'\n      value={phrase}\n      onChange={e => setPhrase(e.target.value)}\n    />\n    <hr />\n    <dl className='uk-description-list' >\n      {results.map(r => {\n\n        // Get friend object so we can tell if we're friends with each search result\n        const friendObj = users.all[r.id];\n\n        // Don't show yourself in search results\n        if (friendObj && friendObj.is_you) {\n          return null;\n        }\n\n        return <Fragment key={r.id}>\n          <dt>{r.username}</dt>\n          <dd className='uk-padding-small uk-flex uk-flex-between'>\n            <span className='uk-flex'>\n              <FriendChip {...r} photoOnly={!friendObj || !friendObj.is_friend} />\n              <p>{r.first_name} {r.last_name}</p>\n            </span>\n            <span className='uk-flex'>\n              <hr style={{ height: 30 }} className='uk-divider-vertical uk-margin-right uk-margin-left' />\n              <FriendStatusButton\n                user={friendObj}\n                onAccept={() => onAcceptFriend(r)}\n                onRequest={() => onRequestFriend(r)}\n              />\n            </span>\n          </dd>\n        </Fragment>;\n      })}\n    </dl>\n  </div>;\n}\n\nconst mapStateToProps = ({ users }) => ({\n  users\n});\n\nexport default connect(\n  mapStateToProps,\n  {\n    \n  }\n)(FriendSearch);\n","import React, { Fragment, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchFriends, requestFriendship, acceptFriendRequest } from '../actions';\n\nimport Spinner from '../components/Spinner.react';\nimport FriendChip from '../components/FriendChip.react';\nimport FriendSearch from '../components/FriendSearch.react';\nimport FriendStatusButton from '../components/FriendStatusButton.react';\n\nconst FriendsList = ({ users, fetchFriends, requestFriendship, acceptFriendRequest, activeUser }) => {\n  useEffect(\n    () => {\n      if (!users.isFetching) {\n        fetchFriends();\n      }\n    },\n    []\n  );\n\n  return <Fragment>\n    <MainPanel\n      isFetching={users.isFetching && users.ids.length === 0}\n      users={users}\n      activeUser={activeUser}\n      acceptFriendRequest={acceptFriendRequest}\n      requestFriendship={requestFriendship}\n    />\n  </Fragment>;\n};\n\nconst MainPanel = ({ isFetching, users, activeUser, acceptFriendRequest, requestFriendship }) => {\n  if (isFetching) {\n    return <Spinner />;\n  }\n\n  const friendList = Object.keys(users.all)\n    .filter(uId => parseInt(uId, 10) !== activeUser)\n    .map(uId => users.all[uId]);\n\n  const accepted = friendList.filter(f => f.is_friend);\n  const hasFriends = accepted.length > 0;\n  const pending = friendList.filter(f => f.is_pending_friend);\n  const hasPendingFriends = pending.length > 0;\n\n  return <Fragment>\n    {hasFriends && <h4>FRIENDS</h4>}\n    {accepted.map(f => <FriendChip key={f.id} {...f} />)}\n    {hasPendingFriends && <h4>PENDING REQUESTS</h4>}\n    {pending.map(f => <Fragment key={f.id}>\n      <FriendChip {...f} onAccept={() => acceptFriendRequest(f)} />\n      <FriendStatusButton \n        user={f}\n        onAccept={() => acceptFriendRequest(f)}\n      />\n    </Fragment>)}\n    <h4>FIND FRIENDS</h4>\n    <FriendSearch \n      users={users}\n      onRequestFriend={requestFriendship}\n      onAcceptFriend={acceptFriendRequest}\n    />\n  </Fragment>;\n}\n\nconst mapStateToProps = ({ users, activeUser }) => ({\n  users,\n  activeUser\n})\n\nexport default connect(\n  mapStateToProps,\n  {\n    fetchFriends,\n    requestFriendship,\n    acceptFriendRequest\n  }\n)(FriendsList);\n","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Map, Marker, Popup, TileLayer, Polyline } from 'react-leaflet'\nimport { divIcon } from 'leaflet';\n\nimport { apiUrl } from '../config';\n\nimport Spinner from './Spinner.react';\n\n// Custom Icon for the leaftlet map.\nconst locationIcon = divIcon({\n  html: '<span class=\"icono-caretDown\"/>',\n  iconSize: [25, 25],\n  iconAnchor: [17, 24],\n  popupAnchor: [-3, -26],\n});\n \nconst LocationMap = ({ userId }) => {\n  const [locations, setLocations] = useState(null);\n\n  const fetchUserLocations = (id) => {\n    if (!id) {\n      return;\n    }\n    setLocations(null);\n    return axios(`${apiUrl}/u/${id}/locations/`, { withCredentials: true })\n      .then(res => {\n        if (res.status === 200) {\n          setLocations(res.data.data);\n        } else if (res.status === 404) {\n          setLocations([]);\n        }\n      });\n  };\n\n  useEffect(\n    () => {\n      fetchUserLocations(userId);\n    },\n    [userId]\n  );\n\n  // TODO: timing calcs\n  const pLocations = []; // locations.filter();\n  const fLocations = locations; // .filter();\n  // const cLocation = null; // locations.find();\n\n  const position = [51.505, -0.09];\n\n  if (locations === null) {\n    return <Spinner />;\n  }\n\n  return <Map center={position} zoom={1} style={{ height: 300 }}>\n    <TileLayer\n      url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      attribution=\"&copy; <a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors\"\n    />\n    <Polyline\n      positions={pLocations.map(({ city }) => [city.latitude, city.longitude])}\n    />\n    <Polyline\n      positions={fLocations.map(({ city }) => [city.latitude, city.longitude])}\n      color='#bf4e4e'\n    />\n    {locations.map(({ id, city, start_date, end_date }) => (\n      <Marker\n        key={id}\n        position={[city.latitude, city.longitude]}\n        icon={locationIcon}\n      >\n        <Popup>{city.name}</Popup>\n      </Marker>\n    ))}\n  </Map>\n};\n\nexport default LocationMap;\n\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\n\nimport {\n  fetchUser,\n  requestFriendship,\n  acceptFriendRequest\n} from '../actions';\n\nimport Spinner from '../components/Spinner.react';\nimport FriendStatusButton from '../components/FriendStatusButton.react';\nimport LocationMap from '../components/LocationMap.react';\n\nconst UserProfile = ({ match, users, fetchUser, activeUser, requestFriendship, acceptFriendRequest }) => {\n  const userId = parseInt(match.params.id, 10);\n\n  // Clone the trip\n  let user = users.all[userId];\n\n  useEffect(\n    () => {\n      // Get it from the API if:\n      //   - it is not currently fetching users\n      //   - we don't have the user in the store already\n      if (!users.isFetching && !user) {\n        fetchUser(userId);\n      }\n    },\n    []\n  );\n\n  return <MainPanel\n    isFetching={users.isFetching}\n    user={user}\n    activeUser={activeUser}\n    onRequest={() => requestFriendship(user)}\n    onAccept={() => acceptFriendRequest(user)}\n  />;\n};\n\nconst MainPanel = ({ isFetching, user, activeUser, onRequest, onAccept }) => {\n  if (isFetching || !user) {\n    return <Spinner />;\n  }\n\n  return <div className='centered-hero'>\n    <div className='uk-flex uk-flex-left'>\n      <img\n        className='avatar-big uk-border-circle'\n        alt='avatar'\n        src={user.photo_url || '/blank-profile-picture.png'}\n      />\n\n      <div className='uk-flex uk-flex-column uk-padding'>\n        <h4>@{user.username}</h4>\n        <span>{user.first_name.toUpperCase()} {user.last_name.toUpperCase()}</span>\n      </div>\n\n      <div className='user-icons'>\n        <FriendStatusButton user={user} onRequest={onRequest} onAccept={onAccept} />\n      </div>\n    </div>\n\n    <hr />\n\n    <LocationMap userId={user.id} />\n  </div>;\n}\n\nconst mapStateToProps = ({ users, activeUser }) => ({\n  users,\n  activeUser\n})\n\nexport default connect(\n  mapStateToProps,\n  {\n    fetchUser,\n    requestFriendship,\n    acceptFriendRequest\n  }\n)(UserProfile);\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { withCookies } from 'react-cookie';\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      rest.cookies.get('sessionid') ? (\n        <Component {...props} />\n      ) : (\n        <Redirect\n          to={{\n            pathname: \"/login\"\n          }}\n        />\n      )\n    }\n  />\n);\n\nexport default withCookies(PrivateRoute);\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport axios from 'axios';\nimport { stringify } from 'query-string';\nimport TelegramLoginButton from 'react-telegram-login';\n\nimport { apiUrl, botName } from '../config';\n\nclass Login extends Component {\n\n  state = {\n    errMsg: null\n  };\n\n  handleResponse = (data) => {\n    return axios({\n      url: `${apiUrl}/u/auth/?${stringify(data)}`,\n      method: 'get',\n      withCredentials: true\n    })\n      .then(res => {\n        // Pass the user data back to the main app\n        this.props.onLogin(data);\n      })\n      .catch(err => {\n        if (err.response) {\n          const errMsg = (err.response.data && err.response.data.errors && err.response.data.errors[0]) ||\n            err.response;\n\n          this.setState({ errMsg });\n        } else {\n          this.setState({ errMsg: 'Unable to connect to the API' });\n        }\n      });\n  }\n\n  render() {\n    return <section className='uk-grid-match'>\n      <div className='uk-panel uk-panel-box uk-text-center telegram-login-container'>\n        <TelegramLoginButton\n          dataOnauth={this.handleResponse}\n          botName={botName}\n        />\n      </div>\n    </section>;\n  }\n}\n\nexport default withRouter(Login);\n\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { withCookies } from 'react-cookie';\n\n// TODO: Make mobile-specific version.\nconst Header = ({ cookies, onLogout, activeUser }) => (\n  <div className='uk-navbar-container'>\n    <nav className='uk-navbar uk-container'>\n      <div className='uk-navbar-left'>\n        <Link className='uk-navbar-item uk-logo' to='/'>\n          <img src='/logo.png' alt='logo' style={{ height: 35, paddingRight: 15 }} />\n          Locationless\n        </Link>\n      </div>\n      \n      {(cookies.get('sessionid') && activeUser) ?\n        <div className='uk-navbar-right'>\n          <ul className='uk-navbar-nav'>\n            <li className='uk-navbar-item'>\n              <Link to='/'>Dashboard</Link>\n            </li>\n            <li className='uk-navbar-item'>\n              <Link to='/friends'>Friends</Link>\n            </li>\n            <li className='uk-navbar-item'>\n              <Link to={`/users/${activeUser}`}>Profile</Link>\n            </li>\n            <li className='uk-navbar-item'>\n              <a onClick={onLogout}>Logout</a>\n            </li>\n          </ul>\n        </div> :\n        null\n      }\n    </nav>\n  </div>\n);\n\nexport default withCookies(Header);\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { withCookies } from 'react-cookie';\nimport { withRouter, Route } from 'react-router-dom';\nimport axios from 'axios';\n\nimport TripDashboard from './pages/TripDashboard.react';\nimport TripDetail from './pages/TripDetail.react';\nimport FriendsList from './pages/FriendsList.react';\nimport UserProfile from './pages/UserProfile.react';\n\nimport PrivateRoute from './components/PrivateRoute.react';\nimport Login from './components/Login.react';\nimport Header from './components/Header.react';\nimport Spinner from './components/Spinner.react';\n\nimport { setUsers } from './actions';\n\nimport { apiUrl } from './config';\n\nimport './App.css';\nimport 'uikit/dist/css/uikit.css'\n\nclass App extends Component {\n  onLogout() {\n    this.props.cookies.remove('sessionid');\n    axios.post(`${apiUrl}/u/logout/`, { withCredentials: true });\n    this.props.history.push('/login');\n  }\n\n  onLogin(data) {\n    this.props.history.push('/');\n    this.props.setUsers({\n      data: {\n        ...data,\n        is_you: true\n      }\n    });\n  }\n\n  componentDidMount() {\n    const { activeUser, location } = this.props;\n\n    if (!activeUser && location.pathname !== '/login') {\n      axios.get(`${apiUrl}/u/`, { withCredentials: true })\n        .then(({ data }) => this.props.setUsers({ data: data.data }))\n        .catch(err => {\n          this.props.history.push('/login');\n        });\n    }\n  }\n\n  renderPrivateRoutes() {\n    return <Fragment>\n      <PrivateRoute exact path=\"/\" component={TripDashboard} />\n      <PrivateRoute path=\"/trips/:id\" component={TripDetail} />\n      <PrivateRoute exact path=\"/friends\" component={FriendsList} />\n      <PrivateRoute path=\"/users/:id\" component={UserProfile} />\n    </Fragment>;\n  }\n\n  renderError(msg) {\n    return <main className='uk-container uk-container-small uk-container-center uk-padding'>\n      <a href='/'>\n        <img src='/logo.png' alt='logo' style={{ height: 85, padding: 15 }} />\n      </a>\n      <hr />\n      <p>{msg}</p>\n    </main>;\n  }\n\n  render() {\n    if (this.props.error.message) {\n      return this.renderError(this.props.error.message);\n    }\n\n    if (!this.props.activeUser && this.props.location.pathname !== '/login') {\n      return <Spinner />;\n    }\n\n    return (\n        <Fragment>\n          <Header onLogout={this.onLogout.bind(this)} activeUser={this.props.activeUser} />\n          <main className='uk-container uk-container-small uk-container-center uk-padding'>\n            <Route path=\"/login\" component={() => <Login onLogin={this.onLogin.bind(this)} />} />\n\n            {this.renderPrivateRoutes()}\n          </main>\n        </Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = ({ users, activeUser, error }) => ({\n  users,\n  activeUser,\n  error\n});\n\nexport default withRouter(withCookies(\n  connect(mapStateToProps, {\n    setUsers\n  })(App)\n));\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const SERVER_ERR_MESSAGE = 'Looks like we\\'re a little... LOCATIONLESS ourselves. Sorry about that.';\nconst NOT_FOUND_ERR_MESSAGE = 'Nothing to see here.';\n\nexport function reduceError(state, action) {\n  const err = action.error && action.error.response;\n  if (!err || (err.status >= 500) || !err.status) {\n    return {\n      ...state,\n      error: {\n        status: 500,\n        message: SERVER_ERR_MESSAGE,\n      }\n    };\n  }\n\n  if (err.status === 404) {\n    return {\n      ...state,\n      error: {\n        status: 404,\n        message: NOT_FOUND_ERR_MESSAGE,\n      }\n    };\n  }\n\n  return {\n    ...state,\n    error: {\n      status: err.status,\n      message: (err.data && err.data.error) || SERVER_ERR_MESSAGE,\n    }\n  };\n}\n\n","import {\n  API_START,\n  API_END,\n  API_ERROR,\n\n  SET_USERS,\n  FETCH_USER,\n\n  SET_TRIPS,\n  FETCH_TRIPS,\n  REMOVE_TRIP,\n\n  FETCH_FRIENDS,\n\n  SET_CITIES,\n  FETCH_CITIES,\n} from '../actions/types';\n\nimport {\n  reduceError\n} from './util';\n\nimport { normalize, schema } from 'normalizr';\n\nconst user = new schema.Entity('users');\nconst city = new schema.Entity('cities');\nconst match = new schema.Entity('matches', {\n  user\n}, {\n  idAttribute: v => `${v.user.id}::${v.start_date}::${v.end_date}`\n});\n\nconst trip = new schema.Entity('trips', {\n  user,\n  city,\n  matches: [match]\n}, {\n  processStrategy: (value, parent, key) => {\n    const matches = value.matches || [];\n    return { ...value, matches };\n  }\n});\n\nconst schemas = {\n  users: user,\n  cities: city,\n  trips: trip\n};\n\nconst initialState = {\n  activeUser: null,\n\n  error: {\n    status: null,\n    message: null,\n  },\n\n  trips: {\n    ids: [],\n    all: {},\n    isFetching: false,\n    hasFetched: false,\n  },\n  cities: {\n    ids: [],\n    all: {},\n    isFetching: false,\n    hasFetched: false,\n  },\n  users: {\n    ids: [],\n    all: {},\n    isFetching: false,\n    hasFetched: false,\n  }\n};\n\nconst ENTITIES = [\n  'trips',\n  'cities',\n  'users'\n];\n\nconst insertEntities = (state, data, entity) => {\n  // Make sure we have an array\n  if (!Array.isArray(data)) {\n    data = [data];\n  }\n\n  // Normalise the data\n  const normData = normalize(data, [schemas[entity]]);\n\n  const newState = { ...state };\n  Object.keys(state).forEach(e => {\n    if (!state[e] || ENTITIES.indexOf(e) === -1) {\n      return;\n    }\n\n    newState[e] = {\n      ...state[e],\n    };\n\n    // Merge in all the new objects for each entity\n    const allIds = [...new Set(Object.keys(state[e].all).concat(Object.keys(normData.entities[e] || {})))];\n    allIds.forEach(id => {\n      newState[e].all[id] = Object.assign({}, state[e].all[id], (normData.entities[e] || {})[id])\n    });\n  });\n\n  // Add all the new IDs to the primary entity\n  const existingIds = state[entity].ids;\n  newState[entity].ids = [...new Set(existingIds.concat(normData.result))];\n\n  return newState;\n};\n\nconst TRIPS_LABELS = [\n  FETCH_TRIPS\n];\nconst CITIES_LABELS = [\n  FETCH_CITIES\n];\nconst USERS_LABELS = [\n  FETCH_USER,\n  FETCH_FRIENDS\n];\n\nexport default function(state = initialState, action) {\n\n  switch (action.type) {\n    case API_ERROR:\n      return reduceError(state, action);\n\n    case REMOVE_TRIP: {\n      const trips = Object.assign({}, state.trips);\n      trips.ids = trips.ids.filter(tId => tId !== action.payload.id);\n      delete trips.all[action.payload.id];\n\n      return {\n        ...state,\n        trips\n      };\n    }\n\n    case SET_TRIPS:\n      return insertEntities(state, action.payload.data, 'trips')\n\n    case SET_CITIES:\n      return insertEntities(state, action.payload.data, 'cities')\n\n    case SET_USERS: {\n      const newState = insertEntities(state, action.payload.data, 'users');\n\n      // Save the user ID of the logged in user\n      if (action.payload && action.payload.data && action.payload.data.is_you) {\n        newState.activeUser = action.payload.data.id;\n      }\n\n      return newState;\n    }\n\n    case API_START:\n      if (TRIPS_LABELS.indexOf(action.payload) > -1) {\n        return {\n          ...state,\n          trips: {\n            ...state.trips,\n            isFetching: true\n          }\n        };\n      }\n      if (USERS_LABELS.indexOf(action.payload) > -1) {\n        return {\n          ...state,\n          users: {\n            ...state.users,\n            isFetching: true\n          }\n        };\n      }\n      if (CITIES_LABELS.indexOf(action.payload) > -1) {\n        return {\n          ...state,\n          cities: {\n            ...state.cities,\n            isFetching: true\n          }\n        };\n      }\n      return state;\n\n    case API_END:\n      if (TRIPS_LABELS.indexOf(action.payload) > -1) {\n        return {\n          ...state,\n          trips: {\n            ...state.trips,\n            isFetching: false,\n            hasFetched: true\n          }\n        };\n      }\n      if (USERS_LABELS.indexOf(action.payload) > -1) {\n        return {\n          ...state,\n          users: {\n            ...state.users,\n            isFetching: false,\n            hasFetched: true\n          }\n        };\n      }\n      if (CITIES_LABELS.indexOf(action.payload) > -1) {\n        return {\n          ...state,\n          cities: {\n            ...state.cities,\n            isFetching: false,\n            hasFetched: true\n          }\n        };\n      }\n      return state;\n\n    default:\n      return state;\n  }\n}\n","import axios from 'axios';\nimport { API } from '../actions/types';\nimport { accessDenied, apiError, apiStart, apiEnd } from '../actions/api';\n\nconst apiMiddleware = ({ dispatch }) => next => action => {\n  if (!action) {\n    return;\n  }\n  next(action);\n\n  if (action.type !== API) return;\n\n  const {\n    url,\n    method,\n    data,\n    accessToken,\n    onSuccess,\n    onFailure,\n    label,\n    headers,\n    nextAction\n  } = action.payload;\n  const dataOrParams = [\"GET\", \"DELETE\"].includes(method) ? \"params\" : \"data\";\n\n  // axios default configs\n  axios.defaults.baseURL = process.env.REACT_APP_BASE_URL || \"\";\n  axios.defaults.headers.common[\"Content-Type\"] = \"application/json\";\n  axios.defaults.headers.common[\"Authorization\"] = `Bearer ${accessToken}`;\n\n  if (label) {\n    dispatch(apiStart(label));\n  }\n\n  axios\n    .request({\n      url,\n      method,\n      headers,\n      withCredentials: true,\n      [dataOrParams]: data\n    })\n    .then(({ data }) => {\n      dispatch(onSuccess(data));\n      dispatch(nextAction(data));\n    })\n    .catch(error => {\n      dispatch(apiError(error));\n      dispatch(onFailure(error));\n\n      // TODO: Handle 404s\n\n      if (error.response && error.response.status === 401) {\n        dispatch(accessDenied(window.location.pathname));\n        // window.location = '/login';\n      }\n    })\n    .finally(() => {\n      if (label) {\n        dispatch(apiEnd(label));\n      }\n    });\n};\n\nexport default apiMiddleware;\n","import { API_START, API_END, ACCESS_DENIED, API_ERROR } from '../actions/types';\n\nexport const apiStart = label => ({\n  type: API_START,\n  payload: label\n});\n\nexport const apiEnd = label => ({\n  type: API_END,\n  payload: label\n});\n\nexport const accessDenied = url => ({\n  type: ACCESS_DENIED,\n  payload: {\n    url\n  }\n});\n\nexport const apiError = error => ({\n  type: API_ERROR,\n  error\n});\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport rootReducer from '../reducers';\nimport thunkMiddleware from 'redux-thunk'\nimport apiMiddleware from '../middleware/api';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n  rootReducer,\n  composeEnhancers(\n    applyMiddleware(\n      apiMiddleware,\n      thunkMiddleware,\n    )\n  )\n);\nwindow.store = store;\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport './index.css';\nimport 'icono/dist/icono.min.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router >\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}